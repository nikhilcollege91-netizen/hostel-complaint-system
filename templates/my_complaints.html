{% extends "layout.html" %}
{% block title %}My Complaints{% endblock %}
{% block content %}
<nav class="navbar">
    <div class="nav-container">
        <a class="nav-brand" href="{{ url_for('student_dashboard') }}">Student Portal</a>
        <ul class="nav-links">
            <li><a href="{{ url_for('add_complaint') }}">âž• Add Complaint</a></li>
            <li><a href="{{ url_for('student_profile') }}">ðŸ‘¤ Profile</a></li>
            <li><a href="{{ url_for('logout') }}">ðŸšª Logout</a></li>
        </ul>
    </div>
</nav>

<div class="container">
    <h2>ðŸ“‹ My Submitted Complaints</h2>
    <div class="complaint-list">
        {% if complaints %}
            {% for complaint in complaints %}
                <div class="card complaint-card">
                    <div class="complaint-header">
                        <h3>{{ complaint.title }} <span class="badge badge-{{ complaint.status | lower | replace(' ', '-') }}">{{ complaint.status }}</span></h3>
                        <span class="complaint-meta">Category: {{ complaint.category }}</span>
                        <span class="complaint-meta">Submitted: {{ complaint.created_at.strftime('%Y-%m-%d') }}</span>
                    </div>
                    <p>{{ complaint.description }}</p>
                    {% if complaint.remark %}
                        <div class="warden-remark">
                            <strong>Warden's Remark:</strong>
                            <p>{{ complaint.remark }}</p>
                        </div>
                    {% endif %}
                </div>
            {% endfor %}
        {% else %}
            <p>You have not submitted any complaints yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
